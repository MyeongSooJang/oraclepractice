CREATE TABLE PRACTICE2
AS SELECT * FROM EMPLOYEE;

SELECT * FROM EMPLOYEE;

CREATE SEQUENCE SEQ1;
SELECT * FROM SEQ1; ---> 이거는 불가능하다.

SELECT SEQ1.NEXTVAL FROM DUAL; 
SELECT SEQ1.CURRVAL FROM DUAL;



INSERT INTO PRACTICE2 (NUM, SALARY)
VALUES (SEQ1.SEQUENCE, 29);
--> 객체에서 가져올때는 NEXTVAL을 해야된다.,

-- 조건문

DECLARE 
V_SALARY PRACTICE2.SALARY%TYPE;
BEGIN 
    SELECT SALARY
    INTO V_SALARY
    FROM PRACTICE2
    WHERE EMP_ID = '&사원번호';
    
    IF V_SALARY > 2000000
        THEN DBMS_OUTPUT.PUT_LINE('살아갈수 있다!');
        --> NEXTLINE이 아니라 LINE
    ELSE 
        DBMS_OUTPUT.PUT_LINE('......');
    END IF;
END;
/
    
    --> & 입력값을 받는 기호 입력창이 뜹니다.
DROP TABLE EX1;

CREATE  TABLE  EX1(
    EMP_NAME VARCHAR2(20),
    SALARY NUMBER
);


DECLARE
    E PRACTICE2%ROWTYPE;
BEGIN
    SELECT *
    INTO E
    FROM PRACTICE2
    WHERE EMP_ID='&사원번호';
    
    IF E.SALARY>2200000
        THEN INSERT INTO EX1(EMP_NAME,SALARY) 
        VALUES (E.EMP_NAME,E.SALARY);
    END IF;
END;
/
 
 ----
 DECLARE
    E PRACTICE2%ROWTYPE;  -- PRACTICE2 테이블의 모든 컬럼을 가진 레코드 E 선언
BEGIN
    SELECT *
    INTO E
    FROM PRACTICE2
    WHERE EMP_ID = '&사원번호';  -- 사원번호 바인드 변수

    -- E 레코드 안의 SALARY 필드를 사용하여 조건 비교
    IF E.SALARY > 2200000 THEN
        INSERT INTO EX1(EMP_NAME, SALARY)
        VALUES (E.EMP_NAME, E.SALARY);
    END IF;
END;
/
---
